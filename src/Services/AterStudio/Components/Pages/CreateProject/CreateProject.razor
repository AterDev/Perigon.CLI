@page "/create"
@using Share.Models.CommandDtos
@inherits PageBase

<FluentStack Orientation="Orientation.Vertical"
             VerticalGap="12"
             Class="p-2">
  <FluentLabel Typo="Typography.PaneHeader">
    @Lang(Localizer.Create, Localizer.Solution)
  </FluentLabel>

  <FluentLabel Typo="Typography.H4">@Lang(Localizer.Base, Localizer.Info)</FluentLabel>

  <FluentStack Orientation="Orientation.Vertical"
               VerticalGap="2">
    <FluentTextField Label="@Lang(Localizer.Solution, Localizer.Name)"
                     Class="w-240"
                     Placeholder="@Lang(Localizer.Solution, Localizer.Name)"
                     @bind-Value="AddDto.Name"
                     Required="true" />
  </FluentStack>
  <FluentStack Orientation="Orientation.Vertical"
               VerticalGap="2">
    <FluentTextField Label="@Lang(Localizer.Local, Localizer.Path)"
                     @bind-Value="AddDto.Path"
                     Class="w-240"
                     Placeholder="@Lang(Localizer.Local,Localizer.Path)"
                     Required="true" />
  </FluentStack>

  <FluentLabel>
    @if (!string.IsNullOrWhiteSpace(AddDto.Path))
    {
      <span>@AddDto.Path/@AddDto.Name</span>
    }
  </FluentLabel>

  <FluentDivider Orientation="Orientation.Horizontal" Class="w-100" />
  <FluentLabel Typo="Typography.H3">@Lang(Localizer.Component, Localizer.Configuration)</FluentLabel>
  <FluentStack Orientation="Orientation.Vertical">
    <FluentStack>
      @* <FluentSelect Items="@(Enum.GetValues<DbType>())"
                    @bind-SelectedOption="@Db"
                    Label="数据库类型" />
      <FluentSelect Items="@(Enum.GetValues<CacheType>())"
                    @bind-SelectedOption="@Cahce"
                    Label="缓存类型" /> *@
      <FluentTextField Label="默认密码" @bind-Value="AddDto.DefaultPassword" />
    </FluentStack>
  </FluentStack>

  <FluentStack Orientation="Orientation.Vertical">
    <FluentLabel Typo="Typography.H3">
      @Lang(Localizer.DbConnectionString)
    </FluentLabel>
    <FluentTextField Label="读数据库" @bind-Value="AddDto.CommandDbConnStrings" />
    <FluentTextField Label="写数据库" @bind-Value="AddDto.QueryDbConnStrings" />
    <FluentTextField Label="缓存连接" @bind-Value="AddDto.CacheConnStrings" />
  </FluentStack>
</FluentStack>

@code {
  CreateSolutionDto AddDto { get; set; } = null!;

  protected override void OnInitialized()
  {
    AddDto = new CreateSolutionDto
    {
      Name = string.Empty,
      Path = string.Empty,
    };
  }

  private void Create()
  {



  }
}