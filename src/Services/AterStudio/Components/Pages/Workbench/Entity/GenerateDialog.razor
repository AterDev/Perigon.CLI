@inherits PageBase
@implements IDialogContentComponent<GenerateDialogData>

<FluentDialogHeader>
  <FluentLabel Typo="Typography.PaneHeader">
    @Lang(Localizer.Generate) @Content.CommandType.ToString()
  </FluentLabel>
</FluentDialogHeader>

<FluentDialogBody>
  <FluentStack Orientation="Orientation.Vertical"
               VerticalAlignment="VerticalAlignment.Center"
               Style="height:100%">
    @if (Content.CommandType == CommandType.API)
    {
      <FluentSelect TOption="SubProjectInfo"
                    Label="@Localizer.SelectServices"
                    Items="@Services"
                    Id="services"
                    OptionValue="@(p => p.Path)"
                    OptionText="@(p => p.Name)"
                    Multiple="true"
                    @bind-Value="@SelectedValue"
                    @bind-SelectedOptions="SelectedServices" />
    }
    <FluentSwitch @bind-Value=GenerateDto.Force
                  Label="@Lang(Localizer.OverwriteCurrent)" />
  </FluentStack>
</FluentDialogBody>
<FluentDialogFooter>
  <FluentButton Appearance="Appearance.Accent"
                Loading="@IsProcessing"
                OnClick="GenerateAsync">
    @Lang(Localizer.Generate)
  </FluentButton>
  <FluentButton OnClick="CancelAsync"
                Loading="@IsProcessing">
    @Lang(Localizer.Cancel)
  </FluentButton>
</FluentDialogFooter>
