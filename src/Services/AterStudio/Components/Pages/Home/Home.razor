@page "/"
@using System.Diagnostics
@inherits PageBase
@inject ProjectManager ProjectManager
@inject SolutionManager SolutionManager

<PageTitle>@Lang(Localizer.Solution)</PageTitle>

<FluentStack Orientation="Orientation.Vertical">
    <FluentToolbar Class="w-100">
        <FluentButton Appearance="Appearance.Accent" OnClick="AddLocalProject">
            @Lang(Localizer.Load, Localizer.Project, " ")
        </FluentButton>
        <FluentButton Appearance="Appearance.Accent"
                      IconStart="@(new Icons.Regular.Size24.Add())"
                      onclick='()=>NavigationManager.NavigateTo("/create-project")' />
    </FluentToolbar>

    @if (projects.Count == 0)
    {
        <FluentStack HorizontalAlignment="HorizontalAlignment.Center"
                     Orientation="Orientation.Vertical">
            <FluentLabel Typo="Typography.H6">
                @Lang(Localizer.AddNewSolution)
            </FluentLabel>
        </FluentStack>
    }
    else
    {
        <FluentStack Orientation="Orientation.Horizontal"
                     HorizontalAlignment="HorizontalAlignment.Start"
                     HorizontalGap="12"
                     Wrap="true"
                     VerticalGap="8">
            @foreach (var project in projects)
            {
                <FluentCard Style="min-width:320px;" Class="col">
                    <FluentStack Orientation="Orientation.Vertical" VerticalGap="4">
                        <FluentLabel Typo="Typography.H3">@project.DisplayName</FluentLabel>
                        <FluentLabel Typo="Typography.Body">@project.Name</FluentLabel>
                        <FluentLabel Typo="Typography.Body">@project.Path</FluentLabel>
                        <FluentStack Orientation="Orientation.Horizontal"
                                     VerticalAlignment="VerticalAlignment.Center"
                                     HorizontalAlignment="HorizontalAlignment.End">

                            <FluentIcon Value="@(new Icons.Filled.Size20.Delete())"
                                        Color="Color.Error" OnClick="() => DeleteProject(project)"></FluentIcon>
                            <FluentButton Appearance="Appearance.Lightweight">
                                @Lang(Localizer.Enter, Localizer.Workbench)
                            </FluentButton>
                        </FluentStack>
                    </FluentStack>
                </FluentCard>
            }
        </FluentStack>
    }
</FluentStack>



